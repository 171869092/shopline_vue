(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-54dcb7b0"],{"67a1":function(e,t,a){"use strict";a("c535")},c535:function(e,t,a){},eb43:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("h3",[e._v("账号设置")]),a("p",{staticStyle:{color:"#87888D","font-size":"12px"}},[e._v("根据教程获取并输入埋点代码以及API密钥")])]),a("el-col",{attrs:{span:16}},[a("el-card",{staticClass:"box-card"},[a("h4",[e._v("连接Easy Parcel")]),a("el-form",{ref:"form",staticClass:"formBox",attrs:{model:e.form,"label-width":"120px","label-position":"top",rules:e.rules}},[a("el-form-item",{attrs:{label:"API token",prop:"api"}},[a("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请输入埋点代码"},model:{value:e.form.api,callback:function(t){e.$set(e.form,"api",t)},expression:"form.api"}})],1),a("el-form-item",{attrs:{label:"API密钥",prop:"key"}},[a("el-input",{attrs:{placeholder:"请输入API密钥"},model:{value:e.form.key,callback:function(t){e.$set(e.form,"key",t)},expression:"form.key"}})],1),a("div",{staticStyle:{"padding-bottom":"30px","margin-top":"10px"}},[a("el-button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("连 接")])],1),a("el-form-item",{attrs:{label:"Service Id",prop:"service_id"}},[a("el-input",{staticStyle:{width:"87%"},attrs:{placeholder:"请输入Service Id"},model:{value:e.form.service_id,callback:function(t){e.$set(e.form,"service_id",t)},expression:"form.service_id"}}),a("el-button",{staticStyle:{float:"right"},on:{click:function(t){e.dialogTableVisible=!0}}},[e._v("切 换")])],1),a("el-form-item",{staticStyle:{"margin-top":"10px"}},[a("el-button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:e.saveServive}},[e._v("保 存")])],1)],1)],1)],1)],1),a("el-dialog",{attrs:{title:"选择快递公司",visible:e.dialogTableVisible,height:"500"},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[a("el-table",{attrs:{data:e.serviceData,border:"",align:"center","header-cell-style":{background:"#F5F8FC",color:"#242833"}}},[a("el-table-column",{attrs:{width:"150",label:"序号",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-radio",{attrs:{label:t.row.id},nativeOn:{change:function(a){return e.getResponRow(t.$index,t.row)}},model:{value:e.rate_id,callback:function(t){e.rate_id=t},expression:"rate_id"}})]}}])}),a("el-table-column",{attrs:{prop:"service_name",align:"center",label:"名称"}}),a("el-table-column",{attrs:{prop:"shipment_price",align:"center",label:"价格"}})],1)],1)],1)},r=[],o=a("b775");function l(e){return Object(o["a"])({url:"/v1/index/config",method:"get",params:e})}function s(e){return Object(o["a"])({url:"/v1/order/connect",method:"post",data:e})}function n(e){return Object(o["a"])({url:"/v1/order/save",method:"post",data:e})}var c={data:function(){return{form:{api:"",key:"",service_id:""},dialogTableVisible:!1,serviceData:[],rate_id:"",rules:{api:[{required:!0,message:"请输入api",trigger:"blur"}],key:[{required:!0,message:"请输入key",trigger:"blur"}],service_id:[{required:!0,message:"请输入service_id",trigger:"blur"}]}}},mounted:function(){var e=this;l({handle:localStorage.getItem("handle")}).then((function(t){200===t.code&&(console.log(t.data),e.form={api:t.data.easy_api,key:t.data.easy_auth_key,service_id:t.data.easy_service_id},e.serviceData=t.service)}))},methods:{onSubmit:function(){var e=this,t={api:this.form.api,auth_key:this.form.key};s(t).then((function(t){200===t.code&&(console.log(t),e.$message({message:t.msg,type:"success"}))}))},getResponRow:function(e,t){this.form.service_id=t.rate_id,this.dialogTableVisible=!1},saveServive:function(){var e=this;this.$refs.form.validate((function(t){if(!t)return console.log("error submit!!"),!1;var a={easy_api:e.form.api,easy_auth_key:e.form.key,easy_service_id:e.form.service_id,handle:localStorage.getItem("handle")};n(a).then((function(t){200===t.code&&e.$message({message:t.msg,type:"success"})}))}))}}},d=c,u=(a("67a1"),a("2877")),p=Object(u["a"])(d,i,r,!1,null,"130efe0c",null);t["default"]=p.exports}}]);